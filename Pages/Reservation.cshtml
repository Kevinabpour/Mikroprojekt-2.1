@page
@model Mikroprojekt_2.Pages.ReservationModel
@{
}



<div class="col-md-4 text-center mb-2">
    <img src="~/Images/Room1.jpg" class="img-fluid rounded mb-2" alt="Montenegro">
    Rum @Model.room.Name <br />
    ✅ Plads til @Model.room.Capacity personer <br />
    @((Model.room.Equipment.Contains("Forplejning")) ? "✅" : "❌") Forplejning <br />
    @((Model.room.Equipment.Contains("Smartboard")) ? "✅" : "❌") Smartboard
</div>

@{
    var days = new Dictionary<string, string>
    {
        { "Tirsdag d. 1 April", "confirmationMessage1" },
        { "Onsdag d. 2 April", "confirmationMessage2" },
        { "Torsdag d. 3 April", "confirmationMessage3" }
    };

    var times = new[] { "11.45", "12.00", "12.30", "12.45", "13.00", "13.30", "13.45", "14.00", "14.15", "14.30" };
}
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Booking System</title>
    <link rel="stylesheet" href="~/css/styles.css">
</head>
<body class="container mt-5">

    @foreach (var day in days)
    {
        <h3 class="mb-3">📅 @day.Key</h3>
        <div class="time-slots" data-day="@day.Key">
            @foreach (var time in times)
            {
                <button type="button" class="btn custom-blue" onclick="toggleButton(this, '@day.Key', '@day.Value')">@time</button>
            }
        </div>
        <div id="@day.Value" class="alert alert-success mt-3 d-none"></div>
    }

    <script src="~/js/script.js"></script>

</body>
<script>
        function toggleButton(button, day, messageId) {
        button.classList.toggle("custom-red");
        button.classList.toggle("custom-blue");

        let selectedTime = button.innerText;
        let confirmationMessage = document.getElementById(messageId);

        // Vis besked afhængig af om knappen er reserveret eller aflyst
        if (button.classList.contains("custom-red")) {
            confirmationMessage.innerText = "Du har reserveret tid " + selectedTime + " " + day;
        } else {
            confirmationMessage.innerText = "Du har aflyst din tid kl. " + selectedTime + " " + day;
        }

        confirmationMessage.classList.remove("d-none");

        // Fjern beskeden efter 6 sekunder
        setTimeout(() => {
            confirmationMessage.classList.add("d-none");
        }, 6000);
    }
</script>


<br />
<p><a href="/Booking">Klik her</a> for at komme tilbage til bookingsiden</p>